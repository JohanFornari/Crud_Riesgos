{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport axios from 'axios';\nfunction Salir() {\n  _s();\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    console.log('token react: ' + token);\n    if (!token) {\n      // Si el usuario no está autenticado, redirigir a la página de inicio de sesión\n      window.location.href = '/'; // Cambia la URL según tu configuración\n      return;\n    }\n    console.log('cerrar sesion');\n    axios.post('/api/logout', {\n      mode: 'cors'\n    }).then(response => {\n      const token = response.data.token;\n      console.log(token);\n      // Guardar el token en el localStorage\n      localStorage.setItem('token', token);\n\n      // Redireccionar a la página de dashboard\n      window.location.href = '/';\n    }).catch(error => {\n      console.error('Error al cerrar sesión:', error);\n    });\n  });\n}\n_s(Salir, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = Salir;\nexport default Salir;\nvar _c;\n$RefreshReg$(_c, \"Salir\");","map":{"version":3,"names":["React","useEffect","axios","Salir","_s","token","localStorage","getItem","console","log","window","location","href","post","mode","then","response","data","setItem","catch","error","_c","$RefreshReg$"],"sources":["D:/Desarrollos/react/app_riesgos/src/components/Salir.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction Salir() {\r\n\r\n  useEffect(() => {\r\n      \r\n      const token = localStorage.getItem('token');\r\n      console.log('token react: ' + token)\r\n      if (!token) {\r\n        // Si el usuario no está autenticado, redirigir a la página de inicio de sesión\r\n        window.location.href = '/'; // Cambia la URL según tu configuración\r\n        return;\r\n      }\r\n  \r\n      console.log('cerrar sesion')\r\n      axios.post('/api/logout', {\r\n        mode: 'cors'\r\n      })\r\n      .then(response => {\r\n        const token = response.data.token;\r\n        console.log(token)\r\n        // Guardar el token en el localStorage\r\n        localStorage.setItem('token', token);\r\n  \r\n        // Redireccionar a la página de dashboard\r\n        window.location.href = '/';\r\n      })\r\n      .catch(error => {\r\n  \r\n        console.error('Error al cerrar sesión:', error);\r\n      });\r\n    });\r\n\r\n\r\n \r\n}\r\n\r\nexport default Salir;\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,KAAKA,CAAA,EAAG;EAAAC,EAAA;EAEfH,SAAS,CAAC,MAAM;IAEZ,MAAMI,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3CC,OAAO,CAACC,GAAG,CAAC,eAAe,GAAGJ,KAAK,CAAC;IACpC,IAAI,CAACA,KAAK,EAAE;MACV;MACAK,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAG,CAAC,CAAC;MAC5B;IACF;IAEAJ,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;IAC5BP,KAAK,CAACW,IAAI,CAAC,aAAa,EAAE;MACxBC,IAAI,EAAE;IACR,CAAC,CAAC,CACDC,IAAI,CAACC,QAAQ,IAAI;MAChB,MAAMX,KAAK,GAAGW,QAAQ,CAACC,IAAI,CAACZ,KAAK;MACjCG,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;MAClB;MACAC,YAAY,CAACY,OAAO,CAAC,OAAO,EAAEb,KAAK,CAAC;;MAEpC;MACAK,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAG;IAC5B,CAAC,CAAC,CACDO,KAAK,CAACC,KAAK,IAAI;MAEdZ,OAAO,CAACY,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD,CAAC,CAAC;EACJ,CAAC,CAAC;AAIN;AAAChB,EAAA,CAjCQD,KAAK;AAAAkB,EAAA,GAALlB,KAAK;AAmCd,eAAeA,KAAK;AAAC,IAAAkB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}